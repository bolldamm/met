<!-- BEGIN: contenido_principal -->
<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta property="og:url" content="http://test.metmeetings.org" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>{TITULO_WEB}, MET</title>
    <base href="{CURRENT_DOMAIN}/">
    <link rel="icon" type="image/png" href="favicon.png">
    <!-- BEGIN: metatags_opcionales -->
    <!-- BEGIN: metatag_canonical -->
    <link rel="canonical" href="{METATAG_OPCIONAL_CANONICAL}">
    <!-- END: metatag_canonical -->
    <!-- END: metatags_opcionales -->
    <!-- BEGIN: metatag_concreto -->
    <meta name="{METATAG_TITULO}" content="{METATAG_DESCRIPCION}">
    <!-- END: metatag_concreto -->

    <!-- Bootstrap CSS framework -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.3/css/bootstrap.min.css" integrity="sha384-Zug+QiDoJOrZ5t4lssLdxGhVrurbmBWopoEl+M6BdEfwnCJZtKxi1KgxUyJq13dy" crossorigin="anonymous">

    <!-- Original MET website framework CSS -->
    <!--<link rel="stylesheet" href="css/style/reset.css" type="text/css" media="screen, projection">-->

    <!-- Personal MET website CSS -->
    <link rel="stylesheet" href="css/style.css" type="text/css" media="screen">

    <!-- Section CSS -->
    <link rel="stylesheet" href="css/section/{SECTION_FILE_CSS}" type="text/css" media="screen">

    <!-- Jquery libraries -->
    <script src="https://code.jquery.com/jquery-3.3.1.js"></script>
    <script src="https://code.jquery.com/jquery-migrate-3.0.1.min.js"></script>
    <script src="scripts/js/jquery.blockUI.js" ></script>

    <!-- Bootstrap -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

    <!-- BEGIN: css_form -->
    <link rel="stylesheet" href="css/section/form.css" type="text/css" media="screen">
    <!-- END: css_form -->

    <!-- Personal Javascript -->
    <script src="scripts/js/functions.js{HASH}" ></script>

    <!-- Google Web Fonts -->
    <link href='https://fonts.googleapis.com/css?family=Advent+Pro:400,700' rel='stylesheet' type='text/css'>

    <!-- BEGIN: script_gmaps -->
    <!-- googleMaps Javascript -->
    <script src="//maps.google.com/maps/api/js?sensor=false" type="text/javascript"></script>
    <!-- END: script_gmaps -->

    <!-- BEGIN: script_nivoslider -->
    <!-- slider Javascript -->
    <link rel="stylesheet" href="css/slider/nivo-slider.css" type="text/css" media="screen" />
    <!--<script src="scripts/js/jquery.nivo.slider.js" ></script>-->
    <script src="scripts/js/jquery.slider.min.js" ></script>
    <!-- END: script_nivoslider -->

    <!-- BEGIN: script_colorbox -->
    <!-- modal box Javascript -->
    <link rel="stylesheet" href="/css/colorbox/colorbox.css" type="text/css">
    <script src="scripts/js/jquery.colorbox-min.js" ></script>
    <!-- END: script_colorbox -->

    <!-- BEGIN: script_calendar -->
    <!-- datapicker Javascript -->
    <link rel="stylesheet" href="css/datepicker/datepicker.css" type="text/css" media="screen">
    <script src="scripts/js/jquery-ui.js" ></script>
    <script src="scripts/js/jquery.datepicker.js" ></script>
    <!-- END: script_calendar -->

    <!-- BEGIN: editor_script -->
    <link rel="stylesheet" href="css/chosen/chosen.min.css" type="text/css" media="screen">
    <script src="https://cdn.ckeditor.com/4.8.0/standard/ckeditor.js"></script>
    <!--<script src="editor/ckeditor.js"></script>-->
    <!-- END: editor_script -->

    <!-- BEGIN: script_multiselect -->
    <script src="scripts/js/chosen.jquery.min.js" type="text/javascript"></script>
    <!-- END: script_multiselect -->

    <!-- BEGIN: placeholders_script -->
    <script src="scripts/js/placeholders.min.js" ></script>
    <!-- END: placeholders_script -->

    <!-- BEGIN: bloque_ready -->
    <script>
        window.onload = function() {
            <!-- BEGIN: bloque_anclar_elemento -->
            anclarElemento("{ELEMENTO_ANCLAR}");
            <!-- END: bloque_anclar_elemento -->

            <!-- BEGIN: inicializar_ckeditor -->
            var editor = CKEDITOR.replace('{TEXTAREA_ID}', {toolbar: '{TEXTAREA_TOOLBAR}'});
            /*editor.config.width = "100%";
            editor.config.height = "150";*/
            width = "100%";
            height = "150";
            <!-- BEGIN: config_params -->
            /*editor.config.width = "{TEXTAREA_WIDTH}";
            editor.config.height = "{TEXTAREA_HEIGHT}";*/
            width = "{TEXTAREA_WIDTH}";
            height = "{TEXTAREA_HEIGHT}";
            <!-- END: config_params -->
            /*editor.config.enterMode = CKEDITOR.ENTER_BR;*/
            enterMode = CKEDITOR.ENTER_P;
            <!-- END: inicializar_ckeditor -->

            <!-- BEGIN: javascript_gmaps_location -->
            var geocoder;
            var map;
            var contentMarker;
            var imagenMarcador = new google.maps.MarkerImage('images/pictures/icons/icon.map.png',
                // El marcador es 25x21 pixels.
                new google.maps.Size(49, 16),
                // El origen para esta imagen es 0,0.
                new google.maps.Point(0, 0),
                // The anchor for this image is the base of the flagpole at 0,32.
                new google.maps.Point(8, -4));

            geocoder = new google.maps.Geocoder();
            var myOptions = {
                scrollwheel: false,
                draggable: true,
                disableDoubleClickZoom: true,
                streetViewControl: false,
                mapTypeControl: false,
                scaleControl: false,
                navigationControl: false,
                mapTypeId: google.maps.MapTypeId.ROADMAP
            };

            map = new google.maps.Map(document.getElementById("mapAddress"), myOptions);
            contentMarker = "<table><tr><td><img src='/images/pictures/logos/logo.mapImage.png'></td><td><img src='/images/pictures/logos/logo.mapText.png'><br>Carrer Indústria 331, àtic 2ª,<br>08027 Barcelona, Spain<br><a href='mailto:contact@metmeetings.org' style='color:#8B1513;'>contact@metmeetings.org</a><br><a href='https://www.metmeetings.org' style='color:#8B1513;'>https://www.metmeetings.org</a><td></td></tr></table>";
            centrarMapa("Calle Indústria 331, 08027 Barcelona, España", 15, map, geocoder);
            anyadirMarcador("Calle Indústria 331, 08027 Barcelona, España", contentMarker, true, 15, imagenMarcador, map, geocoder);
            <!-- END: javascript_gmaps_location -->

            <!-- BEGIN: javascript_nivoslider -->
            $('#slider').nivoSlider({
                effect: 'fade',
                pauseTime: 8000,
                directionNav: false,
                controlNav: false
            });
            <!-- END: javascript_nivoslider -->

            <!-- BEGIN: calendario -->
            $(".datepicker").datepicker({
                dateFormat: "dd-mm-yy",
                changeMonth: true,
                changeYear: true
            });
            <!-- END: calendario -->
        };

    </script>
    <!-- END: bloque_ready -->

    <script>
        "use strict";
        <!-- BEGIN: validate_login -->
            document.addEventListener("DOMContentLoaded", function() {
            var loginForm = document.getElementById("frmLogin");
            var validation = loginForm.addEventListener("submit", function (event) {
                if (loginForm.checkValidity() === false) {
                    event.preventDefault();
                    event.stopPropagation();
                } else {
                    document.frmLogin.submit();
                }
                loginForm.classList.add("was-validated");
            }, false);
        });
        <!-- END: validate_login -->

        <!-- BEGIN: validar_remember_password-->
            function validarEnvioClave() {
               var btnSubmit = document.frmRecordarClave.btnLogin;
               var panelErrorLogin = document.getElementById("msgError");
               panelErrorLogin.className = "";
               var blError = false;
               var txtErrors = "";

               btnSubmit.disabled = true;
               mensajeCargando("{STATIC_GLOBAL_SENDING}...");


               if (!validarEmail(document.frmRecordarClave.txtEmail.value)) {
                   txtErrors = "{STATIC_REMEMBER_PASSWORD_ERROR_EMAIL}";
                   blError = true;
               }

               if (blError) {
                   panelErrorLogin.innerHTML = txtErrors;
                   panelErrorLogin.style.display = "block";
                   btnSubmit.disabled = false;
                   $.unblockUI();
               } else {
                   panelErrorLogin.style.display = "none";
                   var ajax = nuevoAjax();
                   var respuesta;
                   ajax.open("GET", "ajax/send_remember_password.php?mail=" + document.frmRecordarClave.txtEmail.value + "&captcha=" + document.frmRecordarClave.txtCaptcha.value);
                   ajax.onreadystatechange = function () {
                       if (ajax.readyState === 4) {
                           respuesta = parseInt(ajax.responseText);
                           txtErrors = "<span>";
                           switch (respuesta) {
                               case 1:
                                   panelErrorLogin.className = "msgOK";
                                   txtErrors += "{STATIC_REMEMBER_PASSWORD_OK}";
                                   refrescarCaptcha();
                                   break;
                               case 2:
                                   txtErrors += "{STATIC_REMEMBER_PASSWORD_NO_SENDED}";
                                   break;
                               case 3:
                                   txtErrors += "{STATIC_REMEMBER_PASSWORD_MAIL_NO_EXISTS}";
                                   break;
                               case 4:
                                   txtErrors += "{STATIC_REMEMBER_PASSWORD_CAPTCHA_KO}";
                                   break;
                           }
                           txtErrors += "</span>";
                           panelErrorLogin.innerHTML = txtErrors;
                           panelErrorLogin.style.display = "block";
                           btnSubmit.disabled = false;
                           $.unblockUI();
                       }
                   };
                   ajax.send(null);
               }
           }
        <!-- END: validar_remember_password -->

        <!-- BEGIN: formulario_reiniciar_clave -->
            function validarResetClave() {
            var btnSubmit = document.frmResetClave.btnLogin;
            var panelErrorLogin = document.getElementById("msgError");
            var blError = false;
            var txtErrors = "<span>";

            btnSubmit.disabled = true;

            if(document.frmResetClave.txtPassword.value === "") {
                blError = true;
                txtErrors += "{STATIC_RESET_PASSWORD_ERROR_PASS_EMPTY}";
            }else if(document.frmResetClave.txtPassword.value !== document.frmResetClave.txtConfirmPassword.value) {
                blError = true;
                txtErrors += "{STATIC_RESET_PASSWORD_ERROR_PASS_EQUAL}";
            }

            if(blError) {
                txtErrors += "</span>";
                panelErrorLogin.innerHTML = txtErrors;
                panelErrorLogin.style.display = "block";
                btnSubmit.disabled = false;
            }else{
                document.frmResetClave.submit();
            }
        }
        <!-- END: formulario_reiniciar_clave -->

        <!-- BEGIN: validate_membership_form -->

        function removeUsernameAlert () {
            $("#txtEmailUser").on("keyup", function () {
                if ($(this).val() !== "") {
                    $(this).removeClass("errorBorderColor error");
                    $("#emailUserMessage").html("");
                }
            });
        }
        function removePasswordAlert () {
            $("#txtPasswd").on("keyup", function () {
                if ($(this).val() !== "") {
                    $(this).removeClass("errorBorderColor error");
                    $("#passwordMessage").html("");
                }
            });
        }
        function removeConfirmPasswordAlert () {
            $("#txtRePasswd").on("keyup", function () {
                if ($("#txtPasswd").val() !== "") {
                    $(this).removeClass("errorBorderColor error");
                    $("#confirmPasswordMessage").html("");
                }
            });
        }
        function removeMatchPasswordsAlert () {
            $("#txtRePasswd").on("keyup", function () {
                if ($(this).val() === $("#txtPasswd").val()) {
                    $(this).removeClass("errorBorderColor error");
                    $("#passwordMatchMessage").html("");
                }
            });
        }
        function removeFirstNameAlert () {
            $("#txtNombre").on("keyup", function () {
                if ($(this).val() !== "") {
                    $(this).removeClass("errorBorderColor error");
                    $("#firstNameMessage").html("");
                }
            });
        }
        function removeLastNameameAlert () {
            $("#txtApellidos").on("keyup", function () {
                if ($(this).val() !== "") {
                    $(this).removeClass("errorBorderColor error");
                    $("#lastNameMessage").html("");
                }
            });
        }
        function removeCountryAlert () {
            $("#cmbPais").on("change", function () {
                if ($(this).val() > -1) {
                    $(this).removeClass("errorBorderColor error");
                    $("#countryMessage").html("");
                }
            });
        }
        function removeProfActsAlert () {
            $(".professionalActivity").each(function() {
                $(this).on("click", function () {
                    if ($(this).length > 0) {
                        $("#containerProfActs").removeClass("errorBackgroundColor error");
                        $("#profActsMessage").html("");
                    }
                });
            });
        }
        function removeNifAlert () {
            $("#txtFacturacionNifCliente").on("change", function () {
                if ($(this).val() !== "") {
                    $(this).removeClass("errorBorderColor error");
                    $("#nifMessage").html("");
                }
            });
        }
        function removeBillingNameAlert () {
            $("#txtFacturacionNombreCliente").on("change", function () {
                if ($(this).val() !== "") {
                    $(this).removeClass("errorBorderColor error");
                    $("#billingNameMessage").html("");
                }
            });
        }
        function removeBillingAddressAlert () {
            $("#txtFacturacionDireccion").on("change", function () {
                if ($(this).val() !== "") {
                    $(this).removeClass("errorBorderColor error");
                    $("#addressMessage").html("");
                }
            });
        }
        function removeBillingPostcodeAlert () {
            $("#txtFacturacionCodigoPostal").on("change", function () {
                if ($(this).val() !== "") {
                    $(this).removeClass("errorBorderColor error");
                    $("#postcodeMessage").html("");
                }
            });
        }
        function removeBillingCityAlert () {
            $("#txtFacturacionCiudad").on("change", function () {
                if ($(this).val() !== "") {
                    $(this).removeClass("errorBorderColor error");
                    $("#cityMessage").html("");
                }
            });
        }
        function removeBillingCountryAlert () {
            $("#txtFacturacionPais").on("change", function () {
                if ($(this).val() !== "") {
                    $(this).removeClass("errorBorderColor error");
                    $("#billingCountryMessage").html("");
                }
            });
        }
        function removePaymentAlert () {
            $(".paymentMethod").on("click", function () {
                if ($(this).prop("checked") !== false) {
                    $("#containerPaymentMethod").removeClass("errorBackgroundColor error");
                    $("#paymentMethodMessage").html("");
                }
            });
        }
        function removePrivacyAlert () {
            $("#chkPrivacy").on("click", function () {
                if ($(this).prop("checked") !== false) {
                    $("#containerPrivacyCheck").removeClass("errorBackgroundColor error");
                    $("#privacyMessage").html("");
                }
            });
        }


        //ON SUBMIT, validate required fields
        function validateMembershipForm() {
            $("#frmMembership").on("submit", function (event) {
                var username = $("#txtEmailUser");
                var pass = $("#txtPasswd");
                var rePass = $("#txtRePasswd");
                var firstName = $("#txtNombre");
                var lastName = $("#txtApellidos");
                var country = $("#cmbPais");
                var profActs = $(".professionalActivity:checked");
                var billingNif = $("#txtFacturacionNifCliente");
                var billingName = $("#txtFacturacionNombreCliente");
                var billingAddress = $("#txtFacturacionDireccion");
                var billingPostcode = $("#txtFacturacionCodigoPostal");
                var billingCity = $("#txtFacturacionCiudad");
                var billingCountry = $("#txtFacturacionPais");
                var paymentMethod = $(".paymentMethod");
                var privacy = $("#chkPrivacy");

                // Stop form submission
                event.preventDefault();
                event.stopPropagation();

                //If any fields are invalid, display alert and message
                if (username.val() === "") {
                    username.addClass("errorBorderColor error");
                    $("#emailUserMessage").html("Please enter a valid email address");
                }
                if (pass.val() === "") {
                    pass.addClass("errorBorderColor error");
                    $("#passwordMessage").html("Please enter password");
                }
                if (rePass.val() === "") {
                    rePass.addClass("errorBorderColor error");
                    $("#confirmPasswordMessage").html("Please confirm password");
                }
                if (pass.val() !== "" && rePass.val() !== "" && pass.val() !== rePass.val()) {
                    rePass.addClass("errorBorderColor error");
                    $("#passwordMatchMessage").html("Passwords must match");
                }
                if (firstName.val() === "") {
                    firstName.addClass("errorBorderColor error");
                    $("#firstNameMessage").html("Please enter your first name");
                }
                if (lastName.val() === "") {
                    lastName.addClass("errorBorderColor error");
                    $("#lastNameMessage").html("Please enter your last name(s)");
                }
                if (country.val() < 0) {
                    country.addClass("errorBorderColor error");
                    $("#countryMessage").html("Please select a country");
                }
                if (profActs.length < 1) {
                    $("#containerProfActs").addClass("errorBackgroundColor error");
                    $("#profActsMessage").html("Please select at least one activity");
                }
                if (billingNif.val() === "") {
                    billingNif.addClass("errorBorderColor error");
                    $("#nifMessage").html("Please enter your tax ID or VAT number");
                }
                if (billingName.val() === "") {
                    billingName.addClass("errorBorderColor error");
                    $("#billingNameMessage").html("Please enter your name for billing purposes");
                }
                if (billingAddress.val() === "") {
                    billingAddress.addClass("errorBorderColor error");
                    $("#addressMessage").html("Please enter your address");
                }
                if (billingPostcode.val() === "") {
                    billingPostcode.addClass("errorBorderColor error");
                    $("#postcodeMessage").html("Please enter your postal code");
                }
                if (billingCity.val() === "") {
                    billingCity.addClass("errorBorderColor error");
                    $("#cityMessage").html("Please enter your town or city");
                }
                if (billingCountry.val() === "") {
                    billingCountry.addClass("errorBorderColor error");
                    $("#billingCountryMessage").html("Please enter your country");
                }
                if (paymentMethod.prop("checked") === false) {
                    $("#containerPaymentMethod").addClass("errorBackgroundColor error");
                    $("#paymentMethodMessage").html("Please select a payment method");
                }
                if (privacy.prop("checked") === false) {
                    $("#containerPrivacyCheck").addClass("errorBackgroundColor error");
                    $("#privacyMessage").html("To submit the form, you must accept MET's privacy policy");
                }

                //If any fields are invalid, scroll to first invalid input or checkbox, with animation
                if (username.val() === "" || pass.val() === "" || rePass.val() === "" || pass.val() !== rePass.val() || firstName.val() === "" || lastName.val() === "" || country.val() < 0 || profActs.length < 1 || billingNif.val() === "" || billingName.val() === "" || billingAddress.val() === "" || billingPostcode.val() === "" || billingCity.val() === "" || billingCountry.val() === "" || paymentMethod.prop("checked") === false || privacy.prop("checked") === false) {
                    var invalidInput = $(".error");
                    if (invalidInput.length > 0) {
                        $("html, body").animate({
                            scrollTop: invalidInput.first().offset().top
                        }, 800);
                    }

                } else {

                    //Store choices (prof activities and work situations) in hidden element
                    var cadenaActividades = "";
                    profActs.each(function (index, valor) {
                        cadenaActividades += valor.value + ",";
                    });
                    cadenaActividades = cadenaActividades.substring(0, cadenaActividades.length - 1);
                    document.frmMembership.hdnIdActividadProfesional.value = cadenaActividades;

                    var cadenaSituacionesLaborales = "";
                    $(".workSituation:checked").each(function (index, valor) {
                        cadenaSituacionesLaborales += valor.value + ",";
                    });
                    cadenaSituacionesLaborales = cadenaSituacionesLaborales.substring(0, cadenaSituacionesLaborales.length - 1);
                    document.frmMembership.hdnIdSituacionLaboral.value = cadenaSituacionesLaborales;

                    //Run function to block user interface via blockUI.js and display "Sending…" message
                    mensajeCargando("{STATIC_GLOBAL_SENDING}...");

                    //Run function to generate conference registration (AJAX call to save_inscription_conference.php)
                    generateMemberRegistration();
                }

            });
        }

        //ON PAGE LOAD, add event listeners
        $( document ).ready(function() {
            removeUsernameAlert();
            removePasswordAlert();
            removeConfirmPasswordAlert();
            removeMatchPasswordsAlert();
            removeFirstNameAlert();
            removeLastNameameAlert();
            removeCountryAlert();
            removeProfActsAlert();
            removeNifAlert();
            removeBillingNameAlert();
            removeBillingAddressAlert();
            removeBillingPostcodeAlert();
            removeBillingCityAlert();
            removeBillingCountryAlert();
            removePaymentAlert();
            removePrivacyAlert();
            validateMembershipForm();
            supports_input_placeholder();
        });

        function generateMemberRegistration(){
            var form=$("#frmMembership");
            var signupResult;
            $.ajax({
                type: "POST",
                url: "ajax/save_inscription.php",
                data: form.serialize(),
                success: function(data){
                    //Store serialised signup data in membership registration form
                    document.getElementById("resultadoInscripcion").innerHTML=data;
                    //Get result (1=transfer, 2=Paypal, or else error message) from "process_form.html"
                    signupResult=document.getElementById("hdnTipoResultado");

                    //If bank transfer, call "inscripcion_finalizada.php"
                    //With parameter "tipo" (= payment method)
                    if(signupResult.value==="1"){
                        window.location="inscripcion_finalizada.php?tipo=1";

                    }else if(signupResult.value==="2"){
                        //If Paypal, submit data to Paypal in paypal_form.html
                        document.frmPaypal.submit();

                    }else if(signupResult.value==="4"){
                        window.location="inscripcion_finalizada.php?tipo=4";

                    }else{
                        //Otherwise, result = error message, so display message on registration form
                        var msgContenido = document.getElementById("msgAlert");
                        msgContenido.innerHTML = signupResult.value;
                        msgContenido.setAttribute("class", "msgKO");
                        msgContenido.style.display = "block";
                        moverWeb();
                        $.unblockUI();
                    }
                }
            });
        }

        <!-- END: validate_membership_form -->

        <!-- BEGIN: validate_renew_membership_form -->

        //ON CLICK, clear alert for Payment methods
        function clearPaymentMethodWarning() {
            $(".paymentMethod").on("click", function () {
                if ($(".paymentMethod:checked")) {
                    $("#paymentMethodMessage").html("");
                    $("#containerPaymentMethod").removeClass("errorBackgroundColor");
                }
            });
        }

        //ON SUBMIT, validate required fields
        function validateRenewMembershipForm() {
            $("#frmMembership").on("submit", function (event) {
                if (this.checkValidity() === false) {
                    if (!$(".paymentMethod").prop("checked")) {
                        $("#paymentMethodMessage").html("Please select a payment method");
                        $("#containerPaymentMethod").addClass("errorBackgroundColor");
                    }
                    event.preventDefault();
                    event.stopPropagation();
                } else {
                    //Block user interface (blockUI,js) and display "Sending…" message
                    mensajeCargando("{STATIC_GLOBAL_SENDING}...");
                    //Generate conference registration (AJAX call to save_inscription_conference.php)
                    generateMembershipRenewal();
                }
                event.preventDefault();
                event.stopPropagation();
                this.classList.add("was-validated");
            });
        }

        //ON PAGE LOAD, add event listeners
        $( document ).ready(function() {
            clearPaymentMethodWarning();
            validateRenewMembershipForm();
        });

        function generateMembershipRenewal(){
            var form=$("#frmMembership");
            var renewalResult;
            $.ajax({
                type: "POST",
                url: "ajax/save_renew_inscription.php",
                data: form.serialize(),
                success: function(data){
                    //Si es correcto...
                    document.getElementById("resultadoInscripcion").innerHTML=data;

                    //Si encontramos la variable
                    renewalResult=document.getElementById("hdnTipoResultado");
                    if(renewalResult.value==="1"){
                        window.location="inscripcion_finalizada.php?tipo=1";
                    }else if(renewalResult.value==="2"){
                        document.frmPaypal.submit();
                    }else if(renewalResult.value==="4"){
                        window.location="inscripcion_finalizada.php?tipo=4";
                    }else{
                        var msgContenido = document.getElementById("msgAlert");
                        msgContenido.innerHTML = resultadoProceso.value;
                        msgContenido.setAttribute("class", "msgKO");
                        msgContenido.style.display = "block";
                        moverWeb();
                        $.unblockUI();
                    }
                }
            });
        }
        <!-- END: validate_renew_membership_form -->

        <!-- BEGIN: validate_workshop_registration_form -->
        //ON CLICK, calculate total price when workshop clicked
        function calculatePriceWorkshops() {
            var thisWorkshopPrice;
            $(".workshopChoice").each(function () {
                $(this).on("click", function () {
                    var totalPrice = parseFloat(document.getElementById("totalPayable").innerHTML);
                    var workshopId = this.name.split("_")[1];
                    var loggedIn = document.getElementById("hdnIdLogin");
                    if (loggedIn) {
                        thisWorkshopPrice = parseFloat(document.getElementById("priceMember_" + workshopId).innerHTML);
                    } else {
                        if ($("#cmbAsociacionHermana").val() < 0) {
                            thisWorkshopPrice = parseFloat(document.getElementById("priceNonMember_" + workshopId).innerHTML);
                        } else {
                            thisWorkshopPrice = parseFloat(document.getElementById("priceSister_" + workshopId).innerHTML);
                        }
                    }
                    if (this.checked) {
                        totalPrice += thisWorkshopPrice;
                    } else {
                        totalPrice -= thisWorkshopPrice;
                    }
                    document.getElementById("totalPayable").innerHTML = String(totalPrice);
                });
            });
        }

        //ON CHANGE, calculate total price when sister association selected (unselected)
        function updatePriceSisterAssoc() {
            var sisterAssociation = document.frmWorkshopRegister.cmbAsociacionHermana;
            sisterAssociation.addEventListener("change", function () {
                var totalPrice = 0;
                if (this.value < 0) {
                    var rateApplicable = "priceNonMember_";
                } else {
                    rateApplicable = "priceSister_";
                }
                //Get ID of each workshop and test if checked
                $(".workshopChoice").each(function() {
                    var workshopId = this.name.split("_")[1];
                    if (this.checked) {
                        //Get price from form, converting string to number, and add to total
                        totalPrice += parseFloat(document.getElementById(rateApplicable + workshopId).innerHTML);
                    }
                });
                //Assign total to "totalPayable" element for display
                $("#totalPayable").html(totalPrice);
            });
        }

        //ON CLICK, refresh captcha image when refresh icon is clicked
        function refreshCaptchaWorkshop() {
            document.getElementById("reloadCaptcha").addEventListener("click", function () {
                document.getElementById("imageCaptcha").src = "classes/secureimage/securimage_show.php?sid=" + Math.random();
                document.getElementById("imageCaptcha").value = "";
            });
        }

        //ON CLICK, remove payment method alert when a button is selected
        function removePaymentMethodAlert() {
            $(".paymentMethod").on("click", function () {
                if ($(".paymentMethod:checked")) {
                    $("#paymentMethodMessage").html("");
                    $("#containerPaymentMethod").removeClass("errorBackgroundColor");
                }
            });
        }

        //ON CLICK, unset/reset error message when privacy checkbox is checked/unchecked
        function privacyAlert() {
            $("#chkPrivacy").on("click", function () {
                if ($(this).prop("checked")) {
                    $("#chkPrivacyMessage").html("");
                    $("#containerPrivacyCheck").removeClass("errorBackgroundColor");
                } else {
                    $("#chkPrivacyMessage").html("To submit the form, you must accept MET's privacy policy");
                    $("#containerPrivacyCheck").addClass("errorBackgroundColor");
                }
            });
        }

        //ON SUBMIT, validate required fields
        function validateWorkshopsOnSubmit() {
            var form = document.getElementById("frmWorkshopRegister");
            form.addEventListener("submit", function(event) {
                if (form.checkValidity() === false) {
                    event.preventDefault();
                    event.stopPropagation();
                    //Payment method (has required attribute)
                    if (!$(".paymentMethod").prop("checked")) {
                        $("#paymentMethodMessage").html("Please select a payment method");
                        $("#containerPaymentMethod").addClass("errorBackgroundColor");
                    }
                    //Privacy consent (has required attribute)
                    if (!$("#chkPrivacy").prop("checked")) {
                        $("#chkPrivacyMessage").html("To submit the form, you must accept MET's privacy policy");
                        $("#containerPrivacyCheck").addClass("errorBackgroundColor");
                    }
                    //Scroll to first invalid text input or checkbox, with animation
                    var txtInvalid = $(".form-control:invalid");
                    var chkInvalid = $(".form-check-input:invalid");
                    if (txtInvalid.length > 0) {
                        $("html, body").animate({
                            scrollTop: txtInvalid.first().offset().top
                        }, 800);
                    } else if (chkInvalid.length > 0) {
                        $("html, body").animate({
                            scrollTop: chkInvalid.first().offset().top
                        }, 800);
                    }
                } else if ($(".workshopChoice:checked").length < 1) {
                    event.preventDefault();
                    event.stopPropagation();
                    $("#workshopMessage").html("Please select a workshop");
                    $("html, body").animate({
                        scrollTop: $("#containerWorkshop").offset().top
                    }, 800);
                } else {
                    //If all client-side validations OK, store workshop choices (IDs) in hidden element
                    var workshopChoices = "";
                    var workshops = document.getElementsByClassName("workshopChoice");
                    for (var i = 0; i < workshops.length; i++) {
                        if (workshops[i].checked) {
                            var workshopId = workshops[i].name.split("_")[1];
                            workshopChoices += workshopId + ",";
                        }
                    }
                    //Remove trailing comma (last character) from list of workshop IDs
                    workshopChoices = workshopChoices.substring(0, workshopChoices.length - 1);
                    document.frmWorkshopRegister.hdnIdTaller.value = workshopChoices;

                    //Block user interface (blockUI.js) and display "Sending…" message
                    mensajeCargando("{STATIC_GLOBAL_SENDING}...");

                    //Generate workshop registration (Ajax call in save_inscription_workshop.php)
                    generateWorkshopRegistration();
                }
                event.preventDefault();
                event.stopPropagation();
                form.classList.add("was-validated");
            }, false);
        }

        //ON PAGE LOAD, add event listeners
        $( document ).ready(function() {
            calculatePriceWorkshops();
            updatePriceSisterAssoc();
            removePaymentMethodAlert();
            privacyAlert();
            refreshCaptchaWorkshop();
            validateWorkshopsOnSubmit(); //this calls generarInscripcionWorkshop() if valid
            supports_input_placeholder();
        });

/*
* Serialises form data and sends it to save_inscription_workshop.php
* Stores the result (payment method or error message) in process_form.html
* If bank transfer and success, calls inscripcion_finalizada.php
* If Paypal, submits payment data to Paypal in paypal_form.html
*/
        function generateWorkshopRegistration(event) {
            var form = $("#frmWorkshopRegister");
            var signupResult;
            var msgContenido = document.getElementById("msgAlert");
            $.ajax({
                type: "POST",
                url: "ajax/save_inscription_workshop.php",
                data: form.serialize(),
                success: function (data) {
                    //Document is workshop form - store serialised form data in "resultadoInscripcion" DIV
                    document.getElementById("resultadoInscripcion").innerHTML = data;
                    //Document is process_form.html - get result (1=transfer, 2=Paypal, or else error message) from process_form.html
                    signupResult = document.getElementById("hdnTipoResultado");

                    //If bank transfer, call "inscripcion_finalizada.php"
                    // Pass in parameters "modo" (1=conference, 2=workshop) and "tipo" (payment method)
                    if (signupResult.value === "1") {
                        window.location = "inscripcion_finalizada.php?modo=2&tipo=1";

                    //If Paypal, submit data to Paypal in paypal_form.html
                    } else if (signupResult.value === "2") {
                        document.frmPaypal.submit();

                    //Otherwise, the signup result is an error message
                    } else {
                        var captchaMessage = document.getElementById("captchaMessage");
                        captchaMessage.innerHTML = signupResult.value;
                        $.unblockUI();
                    }
                }
            });
        }
        <!-- END: validate_workshop_registration_form -->

        <!-- BEGIN: validate_conference_registration_form -->
        //Used in save_inscription_conference.php for sending price to Paypal
        function finalPrice() {
            var totalPayable = document.getElementById("totalPayable").innerHTML;
            document.getElementById("finalPrice").innerHTML = totalPayable;
        }

        //ON CLICK, refresh captcha image when Refresh icon is clicked
        function reloadCaptchaConference() {
            $("#reloadCaptcha").on("click", function() {
                $("#imageCaptcha").attr("src", "classes/secureimage/securimage_show.php?sid=" + Math.random()).value = "";
            });
        }

        //ON CLICK, clear country alert when a country is selected
        function clearCountryAlert() {
            $("#cmbPais").on("click", function () {
                if ($(this).val() > 0) {
                    $(this).css("border-color", "");
                    $("#chkCountryMessage").html("");
                }
            });
        }

        //ON CHANGE, recalculate total price when sister association is selected (unselected)
        function updatePriceSister() {
            $("#cmbAsociacionHermana").on("change", function () {
                recalculateTotalPrice();
            });
        }

        //ON CLICK, deselect a currently selected workshop radio button
        function deselectRadioButtons() {
            //Add a click event listener to each workshop radio button
            $(".rdnWorkshop").each(function () {
                $(this).on("click", function () {
                    //Get hidden date input corresponding to date of clicked radio button
                    var hidden = document.getElementById("hdnFecha_" + this.name.split("_")[1]);
                    //store initial hidden value
                    var hiddenInitialValue = hidden.value;
                    //Reset hidden value to value of clicked radio button ("" or "[id_taller_fecha]")
                    hidden.value = this.value;

                    //If initial hidden value not empty (i.e. a radio button is checked)
                    if (hiddenInitialValue !== "") {
                        //If stored hidden value is equal to reset hidden value (i.e. same button!)
                        if (hiddenInitialValue === hidden.value) {
                            //Uncheck clicked radio button
                            this.checked = false;
                            //Set hidden value to empty
                            hidden.value = "";
                        }
                        recalculateTotalPrice()
                    }
                });
            });
        }

        //ON CLICK, disable minisessions when a workshop is selected and clear error message
        function disableMinisessions() {
            $(".rdnWorkshop").each(function () {
                $(this).on("click", function (event) {
                    var workshopDate = this.name.split("_")[1];
                    var minisessions = $(".minisessionChoice_" + workshopDate);
                    if (this.checked) {
                        minisessions.prop("checked", false);
                        minisessions.prop("disabled", true);
                        $("#workshopsMessage").html("");
                        $("#containerWorkshop").removeClass("errorBackgroundColor");
                    } else {
                        //Enable all the minisession inputs on this date
                        minisessions.prop("disabled", false);
                    }
                    recalculateTotalPrice()
                });
            });
        }

        //ON CLICK, clear alert and background colour when one minisession selected
        function clearWorkshopsAlert() {
            $(".chkMinisession").each(function () {
                $(this).on("click", function (event) {
                    if ($(".chkMinisession:checked").length > 0) {
                        $("#workshopsMessage").html("");
                        $("#containerWorkshop").removeClass("errorBackgroundColor");
                        recalculateTotalPrice()
                    }
                });
            });
        }

        //ON CLICK, display alert when more than two minisessions are selected on one day
        function warnThreeMinisessions() {
            $(".chkMinisession").each(function () {
                $(this).on("click", function (event) {
                    var miniDate = this.name.split("_")[1];
                    var minisessionContainer = $("#container_mini_session_" + miniDate);
                    var numChecked = minisessionContainer.find("input[type=checkbox]:checked").length;
                    if (numChecked >= 3) {
                        $("#chkMaxMinisessions").html("Please select no more than two minisessions on any one day");
                        $(minisessionContainer).addClass("errorBackgroundColor");
                    } else {
                        $("#chkMaxMinisessions").html("");
                        $(minisessionContainer).removeClass("errorBackgroundColor");
                    }
                });
            });
        }

        //ON CLICK, disable workshops when "Can't attend" is checked, and remove alert
        function disableAllWorkshops() {
            $("#chkNotWorkshop").on("click", function () {
                if (this.checked) {
                    $(".rdnWorkshop").prop("disabled", true).prop("checked", false);
                    $("input.hiddenDate").val("");
                    $(".chkMinisession").prop("disabled", true).prop("checked", false);
                    $("#workshopsMessage").html("");
                    $("#containerWorkshop").removeClass("errorBackgroundColor").removeClass("warningBackgroundColor");
                } else {
                    $(".rdnWorkshop").prop("disabled", false);
                    $(".chkMinisession").prop("disabled", false);
                }
                //recalculateTotalPrice();
            });
        }

        //ON KEYUP, clear badge alert
        function clearBadgeAlert() {
            var badgeText = $("#txtaBadge");
            badgeText.on("keyup", function () {
                if ($("#txtaBadge").val()) {
                    $("#badgeMessage").html("");
                }
            });
        }
        //ON CLICK, clear payment method alert when a button is selected
        function clearPaymentMethodAlert() {
            $(".paymentMethod").on("click", function () {
                if ($(".paymentMethod:checked")) {
                    $("#paymentMethodMessage").html("");
                    $("#containerPaymentMethod").removeClass("errorBackgroundColor");
                }
            });
        }

        //ON CLICK, clear/re-display error message when privacy checkbox is checked/unchecked
        function setPrivacyAlert() {
            $("#chkPrivacy").on("click", function () {
                //ON CLICK,
                if (this.checked === true) {
                    $("#chkPrivacyMessage").html("");
                    $("#containerPrivacyCheck").removeClass("errorBackgroundColor");
                } else {
                    $("#chkPrivacyMessage").html("To submit the form, you must accept MET's privacy policy");
                    $("#containerPrivacyCheck").addClass("errorBackgroundColor");
                }
            });
        }

        //ON SUBMIT, validate required fields and block submission if any invalid
        function validateConferenceOnSubmit() {
            $("#frmConferenceRegister").on("submit", function (event) {
                var workshops = $(".rdnWorkshop:checked").length;
                var minisessions = $(".chkMinisession:checked").length;
                var countrySelect = $("#cmbPais");
                if (this.checkValidity() === false) {
                    if (countrySelect.val() < 0) {
                        countrySelect.css("border-color", "#dc3545");
                        $("#chkCountryMessage").html("Please select a country");
                    } else {
                        countrySelect.css("border-color", "");
                        $("#chkCountryMessage").html("");
                    }
                    if (workshops < 1 && minisessions < 1) {
                        $("#workshopsMessage").html("Registration for one workshop or two minisessions is included in the conference fee. If you do not wish to register for any of the workshops, please check the appropriate box before submitting the form");
                        $("#containerWorkshop").addClass("errorBackgroundColor");
                    }
                    if (!$("#txtaBadge").val()) {
                        $("#badgeMessage").html("Please enter your badge information");
                    }
                    if (!$(".paymentMethod").prop("checked")) {
                        $("#paymentMethodMessage").html("Please select a payment method");
                        $("#containerPaymentMethod").addClass("errorBackgroundColor");
                    }
                    if (!$("#chkPrivacy").prop("checked")) {
                        $("#chkPrivacyMessage").html("To submit the form, you must accept MET's privacy policy");
                        $("#containerPrivacyCheck").addClass("errorBackgroundColor");
                    }
                    //Scroll to first invalid text input or checkbox, with animation
                    var txtInvalid = $(".form-control:invalid");
                    var chkInvalid = $(".form-check-input:invalid");
                    if (txtInvalid.length > 0) {
                        $("html, body").animate({
                            scrollTop: txtInvalid.first().offset().top
                        }, 800);
                    } else if (chkInvalid.length > 0) {
                        $("html, body").animate({
                            scrollTop: chkInvalid.first().offset().top
                        }, 800);
                    }
                    event.preventDefault();
                    event.stopPropagation();
                } else if (countrySelect.val() < 0) {
                    countrySelect.css("border-color", "#dc3545");
                    $("#chkCountryMessage").html("Please select a country");
                    $('html, body').animate({
                        scrollTop: $("#personalDetails").offset().top
                    }, 1000);
                    event.preventDefault();
                    event.stopPropagation();
                } else if (workshops < 1 && minisessions < 1) {
                    var container = $("#containerWorkshop");
                    $("#workshopsMessage").html("Registration for one workshop or two minisessions is included in the conference fee. If you do not wish to register for any of the workshops, please check the appropriate box before submitting the form");
                    container.addClass("errorBackgroundColor");
                    //Scroll to workshop checkboxes, with animation
                    $("html, body").animate({
                        scrollTop: container.offset().top
                    }, 1000);
                    event.preventDefault();
                    event.stopPropagation();
                } else if (minisessions > 2) {
                    $(".hiddenDate").each(function () {
                        var miniDate = this.name.split("_")[1];
                        if ($(".minisessionChoice_" + miniDate + ":checked").length > 2) {
                            $("#containerWorkshop").addClass("errorBackgroundColor");
                            //Scroll to minisession checkboxes, with animation
                            $("html, body").animate({
                                scrollTop: container.offset().top
                            }, 1000);
                            event.preventDefault();
                            event.stopPropagation();
                        }
                    });
                } else {
                    //Block user interface (blockUI,js) and display "Sending…" message
                    mensajeCargando("{STATIC_GLOBAL_SENDING}...");
                    //Generate conference registration (AJAX call to save_inscription_conference.php)
                    generateConferenceRegistration();
                }
                event.preventDefault();
                event.stopPropagation();
                this.classList.add("was-validated");
            });
        }

        function recalculateTotalPrice(){
            var price=0;
            var tallerSeleccionado=0;
            var extraWorkshopPrice=parseFloat(document.getElementById("hdnPriceExtraWorkshop").value);
            var extraMinisessionPrice=parseFloat(document.getElementById("hdnPriceExtraMinisession").value);
            var dinnerGuestPrice=parseFloat(document.getElementById("hdnPriceDinnerGuest").value);
            var dinnerOptoutDiscount=parseFloat(document.getElementById("hdnPriceDinnerOptoutDiscount").value);

            if(!document.getElementById("chkSpeaker").checked) {
                if (!document.getElementById("hdnEarlyBird")) {
                    if (!document.getElementById("hdnIdLogin")) {
                        if (document.getElementById("cmbAsociacionHermana").value !== "-1") {
                            price = parseFloat(document.getElementById("hdnPriceSisterLate").value);
                        } else {
                            price = parseFloat(document.getElementById("hdnPriceNonMemberLate").value);
                        }
                    } else {
                        price = parseFloat(document.getElementById("hdnPriceMemberLate").value);
                    }
                } else {
                    if (!document.getElementById("hdnIdLogin")) {
                        if (document.getElementById("cmbAsociacionHermana").value !== "-1") {
                            price = parseFloat(document.getElementById("hdnPriceSisterEarly").value);
                        } else {
                            price = parseFloat(document.getElementById("hdnPriceNonMemberEarly").value);
                        }
                    } else {
                        price = parseFloat(document.getElementById("hdnPriceMemberEarly").value);
                    }
                }
            } else {
                if (!document.getElementById("hdnIdLogin")) {
                    if (document.getElementById("cmbAsociacionHermana").value !== "-1") {
                        price=parseFloat(document.getElementById("hdnPriceSisterSpeaker").value);
                    } else {
                        price=parseFloat(document.getElementById("hdnPriceNonMemberSpeaker").value);
                    }
                } else {
                    price=parseFloat(document.getElementById("hdnPriceMemberSpeaker").value);
                }
            }


            //Deduct dinner opt-out discount from price if checkbox selected
            if(document.getElementById("chkDinner").checked){
                price-=dinnerOptoutDiscount;
            }//end if

            //Workshops activados
            $(".hiddenDate").each(function(index,valor){
                if(valor.value!==""){
                    tallerSeleccionado++;
                }//end if
            });//end workshop each

            var tallerMiniSeleccionado=($(".chkMinisession:checked").length);

            if (tallerSeleccionado>=1){
                if(tallerMiniSeleccionado>0){
                    price+=(extraMinisessionPrice*tallerMiniSeleccionado)
                }else if(tallerSeleccionado>1){
                    price+=((extraWorkshopPrice*tallerSeleccionado)-extraWorkshopPrice);
                }
            }else if(tallerMiniSeleccionado>2){
                price+=((extraMinisessionPrice*tallerMiniSeleccionado)-extraWorkshopPrice);
                if(tallerSeleccionado>0){
                    price+=(extraWorkshopPrice*tallerSeleccionado);
                }
            }

            if(document.getElementById("cmbInvitados").value>"0"){
                price+=(dinnerGuestPrice*document.getElementById("cmbInvitados").value);
            }

            document.getElementById("debug").innerHTML = price;

            document.getElementById("totalPayable").innerHTML=price;
            document.getElementById("finalPrice").value=price;
        }//end if

        /*
        * Serialises form data and sends it to save_inscription_conference.php
        * Stores the result (payment method or error message) in process_form.html
        * If bank transfer and success, calls inscripcion_finalizada.php
        * If Paypal, submits payment data to Paypal in paypal_form.html
        */
        function generateConferenceRegistration(){
            var form=$("#frmConferenceRegister");
            var signupResult;
            $.ajax({
                type: "POST",
                url: "ajax/save_inscription_conference.php",
                data: form.serialize(),
                success: function(data){
                    //Store serialised signup data in conference registration form
                    document.getElementById("resultadoInscripcion").innerHTML=data;
                    //Get result (1=transfer, 2=Paypal, or else error message) from "process_form.html"
                    signupResult=document.getElementById("hdnTipoResultado");

                    //If bank transfer, call "inscripcion_finalizada.php"
                    // Pass in parameters "modo" (1=conference, 2=workshop) and "tipo" (payment method)
                    if(signupResult.value==="1"){
                        window.location="inscripcion_finalizada.php?modo=1&tipo=1";

                    }else if(signupResult.value==="2"){
                        //If Paypal, submit data to Paypal in paypal_form.html
                        document.frmPaypal.submit();

                    }else{
                        //Otherwise, result = error message, so display message on registration form
                        var captchaMessage = document.getElementById("captchaMessage");
                        captchaMessage.innerHTML = signupResult.value;
                        $.unblockUI();
                    }
                }
            });
        }

        //ON PAGE LOAD, call functions
        $( document ).ready(function() {
            finalPrice();
            //addPlaceholderSupport();
            reloadCaptchaConference();
            clearCountryAlert();
            updatePriceSister();
            deselectRadioButtons();
            disableMinisessions();
            clearWorkshopsAlert();
            warnThreeMinisessions();
            disableAllWorkshops();
            clearBadgeAlert();
            clearPaymentMethodAlert();
            setPrivacyAlert();
            validateConferenceOnSubmit();
            supports_input_placeholder()
        });
        <!-- END: validate_conference_registration_form -->

        <!-- BEGIN: validar_offer_interesed -->
        function validarFormularioOfertaInteresado() {
            var btn = document.getElementById("btnSendForm");
            var msgContenido = document.getElementById("msgAlert");
            var blError = true;
            var txtError = "";

            btn.disabled = true;
            limpiarErrores();

            if(trim(document.frmJobOffer.txtNombre.value) === "" || document.frmJobOffer.txtNombre.value === "{STATIC_FORM_MEMBERSHIP_FIRST_NAME}") {
                blError = false;
                destacarError(document.frmJobOffer.txtNombre);
                txtError = "{STATIC_FORM_MEMBERSHIP_ERROR_FIRST_NAME}";
            }else if(trim(document.frmJobOffer.txtApellidos.value) === "" || document.frmJobOffer.txtApellidos.value === "{STATIC_FORM_MEMBERSHIP_LAST_NAMES}") {
                blError = false;
                destacarError(document.frmJobOffer.txtApellidos);
                txtError = "{STATIC_FORM_MEMBERSHIP_ERROR_LAST_NAME}";
            }else if(!validarEmail(document.frmJobOffer.txtEmail.value)) {
                blError = false;
                destacarError(document.frmJobOffer.txtEmail);
                txtError = "{STATIC_FORM_MEMBERSHIP_ERROR_EMAIL}";
            }

            if(blError) {
                document.frmJobOffer.submit();
            }else{
                msgContenido.innerHTML = txtError;
                msgContenido.setAttribute("class", "msgKO alert alert-danger");
                msgContenido.style.display = "block";
            }

            btn.disabled = false;
        }
        <!-- END: validar_offer_interesed -->

        <!-- BEGIN: validate_edit_profile -->
        //ON PAGE LOAD, validate password matching continuously on key up
        function checkPwds() {
            var newP = $("#txtNewPassword");
            var confirmP = $("#txtConfirmNewPassword");
            var pwdMessage = $("#pwdMessage");
            if (newP.val() !== "" && confirmP.val() !== "") {
                if (newP.val() !== confirmP.val()) {
                    pwdMessage.css("color", "#dc3545");
                    pwdMessage.html("Passwords must match");
                    $("#btnSendForm").prop("disabled", true);
                } else {
                    pwdMessage.css("color", "#28a745");
                    pwdMessage.html("Passwords match!");
                    $("#btnSendForm").prop("disabled", false);
                }
            }
        }

        //ON PAGE LOAD, add multiselect to inputs with class "multiSelect"
        //NB Script doesn't work when Chrome Developer is open!!!
        function addMultiselect() {
            $(".multiSelect").chosen();
        }

        //ON CLICK, clear alert on country dropdown if country selected
        function clearCountryWarning() {
            $("#cmbPais").on("click", function() {
                if ($(this).val() > 0) {
                    $(this).css("border-color", "");
                    $("#chkCountryMessage").html("");
                }
            });
        }

        //ON CLICK, clear alert on professional activities if one selected
        function clearProfActsAlert() {
            $(".professionalActivity").each(function() {
                $(this).on("click", function() {
                    if (this.checked) {
                        $("#profActsMessage").html("");
                        $("#containerProfActs").removeClass("errorBackgroundColor");
                    }
                });
            });
        }

        //ON SUBMIT, validate required fields (HTML5 and custom)
        function validateEditProfile() {
            $("#frmMembership").on("submit", function (event) {
                var country = $("#cmbPais");
                var profActs = $(".professionalActivity:checked");
                if (this.checkValidity() === false) {
                    //A required field is empty
                    //with scroll animation
                    $("html, body").animate({
                        scrollTop: $(".form-control:invalid").first().offset().top
                    }, 800);
                    event.preventDefault();
                    event.stopPropagation();
                } else if ((country.val() < 0) || (profActs.length < 1)) {
                    if (country.val() < 0) {
                        //No country of residence selected
                        //document.getElementById("cmbPais").classList.add("errorBorderColor");
                        country.css("border-color", "#dc3545");
                        $("#chkCountryMessage").html("Please select a country");
                        $("html, body").animate({
                            scrollTop: country.offset().top
                        }, 800);
                    }
                    if (profActs.length < 1) {
                        var profContainer = $("#containerProfActs");
                        //No professional activity selected
                        $("#profActsMessage").html("Please select at least one activity");
                        profContainer.addClass("errorBackgroundColor");
                        $("html, body").animate({
                            scrollTop: profContainer.offset().top
                        }, 800);
                    }
                    event.preventDefault();
                    event.stopPropagation();
                } else {
                    var cadenaActividades="";
                    profActs.each(function(index,valor){
                        cadenaActividades+=valor.value+",";
                    });
                    cadenaActividades=cadenaActividades.substring(0,cadenaActividades.length-1);
                    document.frmMembership.hdnIdActividadProfesional.value=cadenaActividades;

                    var cadenaSituacionesLaborales="";
                    $(".workSituation:checked").each(function(index,valor){
                        cadenaSituacionesLaborales+=valor.value+",";
                    });
                    cadenaSituacionesLaborales=cadenaSituacionesLaborales.substring(0,cadenaSituacionesLaborales.length-1);
                    document.frmMembership.hdnIdSituacionLaboral.value=cadenaSituacionesLaborales;

                    //Run function to block user interface via blockUI.js and display "Sending…" message
                    mensajeCargando("{STATIC_GLOBAL_SENDING}...");
                }
            });
        }

        //ON PAGE LOAD, call functions
        $( document ).ready(function() {
            checkPwds();
            clearCountryWarning();
            clearProfActsAlert();
            addMultiselect();
            validateEditProfile();
            supports_input_placeholder();
        });
        <!-- END: validate_edit_profile -->

        <!-- BEGIN: validar_submit_event -->
        function validarFormularioSubmitEvent() {
            var btn = document.getElementById("btnSendForm");
            var msgContenido = document.getElementById("msgAlert");
            var blError = true;
            var txtError = "";

            btn.disabled = true;
            limpiarErrores();

            if(trim(document.frmSubmitEvent.txtTitulo.value) === "" || document.frmSubmitEvent.txtTitulo.value === "{STATIC_FORM_MEMBERSHIP_TITLE}") {
                blError = false;
                destacarError(document.frmSubmitEvent.txtTitulo);
                txtError = "{STATIC_FORM_EVENT_SUBMIT_TITLE_EMPTY}";
            }else if(document.frmSubmitEvent.cmbTematica.value < 0) {
                blError = false;
                destacarError(document.frmSubmitEvent.cmbTematica);
                txtError = "{STATIC_FORM_EVENT_SUBMIT_THEME}";
            }else if(trim(document.frmSubmitEvent.txtResumen.value) === "" || document.frmSubmitEvent.txtResumen.value === "{STATIC_FORM_EVENT_SUBMIT_SUMMARY}") {
                blError = false;
                destacarError(document.frmSubmitEvent.txtResumen);
                txtError = "{STATIC_FORM_EVENT_SUBMIT_SUMMARY_ERROR}";
            }

            if(blError) {
                document.frmSubmitEvent.submit();
            }else{
                msgContenido.innerHTML = txtError;
                msgContenido.setAttribute("class", "msgKO alert alert-danger");
                msgContenido.style.display = "block";
            }

            btn.disabled = false;
        }
        <!-- END: validar_submit_event -->

        <!-- BEGIN: validar_submit_job -->
        function validarFormularioSubmitJob() {
            var btn = document.getElementById("btnSendForm");
            var msgContenido = document.getElementById("msgAlert");
            var blError = true;
            var txtError = "";

            btn.disabled = true;
            limpiarErrores();

            if(trim(document.frmSubmitJob.txtTitulo.value) === "" || document.frmSubmitJob.txtTitulo.value === "{STATIC_FORM_MEMBERSHIP_TITLE}") {
                blError = false;
                destacarError(document.frmSubmitJob.txtTitulo);
                txtError = "{STATIC_FORM_EVENT_SUBMIT_TITLE_EMPTY}";
            }else if(trim(document.frmSubmitJob.txtEmail.value) !== "" && document.frmSubmitJob.txtEmail.value !== "{STATIC_FORM_MEMBERSHIP_EMAIL}" && !validarEmail(document.frmSubmitJob.txtEmail.value)) {
                blError = false;
                destacarError(document.frmSubmitJob.txtEmail);
                txtError = "{STATIC_FORM_JOB_SUBMIT_MAIL_ERROR}";
            }else if(trim(document.frmSubmitJob.txtResumen.value) === "" || document.frmSubmitJob.txtResumen.value === "{STATIC_FORM_EVENT_SUBMIT_SUMMARY}") {
                blError = false;
                destacarError(document.frmSubmitJob.txtResumen);
                txtError = "{STATIC_FORM_EVENT_SUBMIT_SUMMARY_ERROR}";
            }

            if(blError) {
                document.frmSubmitJob.submit();
            }else{
                msgContenido.innerHTML = txtError;
                msgContenido.setAttribute("class", "msgKO alert alert-danger");
                msgContenido.style.display = "block";
            }

            btn.disabled = false;
        }
        <!-- END: validar_submit_job -->

        <!-- BEGIN: validar_formulario_contacto -->
        //ON CLICK, refresh captcha image when refresh icon is clicked
        function refreshCaptchaContact() {
            $("#reloadCaptcha").on("click", function () {
                document.getElementById("imageCaptcha").src = "classes/secureimage/securimage_show.php?sid=" + Math.random();
                document.getElementById("imageCaptcha").value = "";
            });
        }

        //ON SUBMIT, validate required fields
        function validateContactForm() {
            $("#formContact").on("submit", function (event) {
                if (this.checkValidity() === false) {
                    event.preventDefault();
                    event.stopPropagation();
                } else {
                    mensajeCargando("{STATIC_GLOBAL_SENDING}...");
                    var form = $("#formContact");
                    var result;
                    var message;
                    $.ajax({
                        type: "POST",
                        url: "ajax/send_mail_contact.php",
                        data: form.serialize(),
                        success: function (data) {
                            //Possible results are 1=OK, 2=captcha invalid or 3=mail not sent
                            result = data;
                            if (result === "1") {
                                window.location = "contact.php?menu=" + document.formContact.hdnIdMenu.value + "&code=1";
                            } else if (result === "2") {
                                message = document.getElementById("msgAlert");
                                message.innerHTML = "{STATIC_CAPTCHA_ENTER_LETTERS_NUMBERS_IMAGE}";
                                message.setAttribute("class", "msgKOContact");
                                message.style.display = "block";
                            } else {
                                message = document.getElementById("msgAlert");
                                message.innerHTML = "{STATIC_CONTACT_NO_SENDED}";
                                message.setAttribute("class", "msgKOContact");
                                message.style.display = "block";

                            }
                        }
                    });
                }
                this.classList.add("was-validated");
            });
        }

        //ON PAGE LOAD, add event listeners
        $( document ).ready(function() {
            refreshCaptchaContact();
            validateContactForm();
        });

        <!-- END: validar_formulario_contacto -->

        <!-- BEGIN: validate_expense_form -->
        function validateExpenseForm() {
            $("#frmExpense").on("submit", function (event) {
                if (this.checkValidity() === false) {
                    $(".form-control:invalid").first().get(0).scrollIntoView();
                    event.preventDefault();
                    event.stopPropagation();
                }
                this.classList.add("was-validated");
            });
        }
        //ON PAGE LOAD, call functions
        $( document ).ready(function() {
            $(".datepicker").attr("required","").addClass("required");
            validateExpenseForm();
        });
        <!-- END: validate_expense_form -->
    </script>

</head>
<body>
<div id="backgroundImage" role="img" aria-label="Changing background image"></div>
<div id="backgroundBlue" class="d-none d-lg-block"></div>
<div class="container-fluid wrapper">
<div class="row loginLink">
    <div class="col-12 d-md-none w-100 bg-dark py-2">
        <a href="#loginForm" class="loginLink" style="margin-left:20px;color:white;font-size:100%;">Login</a>
    </div>
</div>

<div class="d-none d-md-block">
    <a href="/met"><img src="images/pictures/logos/logo.met.png" width="244" height="125" alt="MET logo" style="margin-top: 3em;"></a>
</div>

<div class="row topnav">
    <div class="col-12">
        <nav class="navbar navbar-expand-md navbar-dark navbar-custom">
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <a class="navbar-brand d-md-none" href="{CURRENT_DOMAIN}" style="padding-left: 0;">
                <!--<img src="images/pictures/logos/logo.met.png" width="180" height="92" alt="">-->
                <img src="images/pictures/logos/MET_color_transparent_180x92.png" width="180" height="92" alt="">
            </a>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav mr-auto">
                    <!-- BEGIN: item_menu_superior -->
                    <li class="nav-item dropdown {ITEM_MENU_SUPERIOR_PRIVATE}">
                        <a class="nav-link dropdown-toggle" id="{ITEM_MENU_SUPERIOR_ID}" data-toggle="dropdown" href="{ITEM_MENU_SUPERIOR_URL}" role="button" aria-haspopup="true" aria-expanded="false">{ITEM_MENU_SUPERIOR_TITULO}</a>
                        <!-- BEGIN: menu_superior_desplegable -->
                        <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                            <!-- BEGIN: item_menu_superior_desplegable -->
                            <a class="dropdown-item {ITEM_MENU_SUPERIOR_DESPLEGABLE_PRIVATE}" href="{ITEM_MENU_SUPERIOR_DESPLEGABLE_URL}">{ITEM_MENU_SUPERIOR_DESPLEGABLE_TITULO}</a>
                            <!-- END: item_menu_superior_desplegable -->
                        </div>
                        <!-- END: menu_superior_desplegable -->
                    </li>
                    <!-- END: item_menu_superior -->
                </ul>
            </div>
        </nav>
    </div>
</div>
<div class="row page-area">
    <div class="col-12 col-md-9">
        <!-- BEGIN: control_superior -->
        {BREADCRUMB}
        {SLIDER}
        <!-- END: control_superior -->
        <div class="row content-area">
            <!-- BEGIN: menu_left -->
            <div class="col-12 col-sm-3 lefthand-menu order-2 order-sm-1">
                {MENU_LEFT}
            </div>
            <div class="col-12 col-sm-9 main-content order-1 order-sm-2">
                {CONTENIDO}
            </div>
            <!-- END: menu_left -->
            <!-- BEGIN: home_page -->
            <div class="col-12 main-content">
                {CONTENIDO}
            </div>
            <!-- END: home_page -->
        </div>
    </div>
    <div class="col-12 col-md-3 sidepanel">
        <div id="loginPanel">
            <a name="loginForm"></a>
            <div id="loginTitle">{STATIC_MEMBERS}</div>
            <!-- BEGIN: panel_login -->
            <form class="needs-validation" novalidate id="frmLogin" name="frmLogin" method="post" autocomplete="off" action="authentication.php">
                <input type="hidden" name="hdnUrlActual" id="hdnUrlActual" value="{URL_ACTUAL}">
                <label class="sr-only" for="txtUsername">Username</label>
                <input class="form-control" type="text" name="txtUsername" id="txtUsername" placeholder="{STATIC_MAIL}" onfocus="window.scrollTo(0, 0);" autocomplete="username" required>
                <div class="invalid-feedback">
                    Please enter your email
                </div>
                <label class="sr-only" for="txtPassword">Password</label>
                <input class="form-control" type="password" name="txtPassword" id="txtPassword" placeholder="{STATIC_PASSWORD}" autocomplete="current-password" onkeypress="ejecutarIntroLogin(event);" required>
                <div class="invalid-feedback">
                    Please enter your password
                </div>
                <p id="msgLoginError" style="{LOGIN_DISPLAY}">{LOGIN_ERROR_MENSAJE}</p>
                <button class="btn btn-primary" type="submit" name="btnLogin" id="btnLogin">
                    {STATIC_SIGN_IN}
                </button>
            </form>

            <p class="form-text">{STATIC_I_FORGOT_MY_USER}
            <a href="{URL_REMEMBER_PASSWORD}">{STATIC_PASSWORD}</a></p>
            <!-- END: panel_login -->
            <!-- BEGIN: datos_usuario -->
            <div id="infoUserData">
                {PANEL_LOGIN_USERNAME}
            </div>
                <!-- BEGIN: bloque_miembro_hasta -->
                {STATIC_MEMBER_UNTIL} <strong>{MIEMBRO_FECHA_HASTA}</strong><br>
                <!-- BEGIN: bloque_renew -->
                <a href="{URL_PROFILE_RENEW_MEMBERSHIP}">{STATIC_PROFILE_RENEW_MEMBERSHIP}</a>
                <!-- END: bloque_renew -->
                <span style="color:#8B1513">{EXPIRED_ACCOUNT}</span>
                <!-- END: bloque_miembro_hasta -->
                <!-- BEGIN: bloque_perfil -->
                <a href="profile_edit.php?menu=42">{STATIC_EDIT_PROFILE}</a>
                <!-- END: bloque_perfil -->
                <!-- BEGIN: bloque_pago_pendiente -->
                <p><strong>{STATIC_PAYMENT_PENDING}</strong></p>
                <!-- END: bloque_pago_pendiente -->
                <p><a href="logout.php">{STATIC_DISCONNECT}</a></p>
            <!-- END: datos_usuario -->
        </div>

        <!-- BEGIN: item_boton_acceso -->
        <!-- BEGIN: si_url -->
                <a href="{ITEM_BOTON_ACCESO_URL}" target="{ITEM_BOTON_ACCESO_TARGET}">
                    <img src="{ITEM_BOTON_ACCESO_IMAGEN}" class="sideBanner">
                </a>
        <!-- END: si_url -->
        <!-- BEGIN: no_url -->
                <img src="{ITEM_BOTON_ACCESO_IMAGEN}" class="sideBanner">
        <!-- END: no_url -->
        <!-- END: item_boton_acceso -->
    </div>
</div>

<hr>

<div class="row footer">
    <div class="mx-auto text-center">

        <!--<table width="135" border="0" cellpadding="2" cellspacing="0" title="Click to Verify - This site chose GeoTrust SSL for secure e-commerce and confidential communications.">
            <tr>
                <td width="135" align="center" valign="top"><script src="https://seal.geotrust.com/getgeotrustsslseal?host_name=www.metmeetings.org&amp;size=S&amp;lang=en"></script><br />
                <a href="http://www.geotrust.com/ssl/" target="_blank"  style="color:#000000; text-decoration:none; font:bold 7px verdana,sans-serif; letter-spacing:.5px; text-align:center; margin:0px; padding:0px;"></a>
                </td>
            </tr>
        </table>-->
        &copy; {STATIC_MEDITERRANEAN_EDITORS_AND_TRANSLATORS} &nbsp;

        <!-- BEGIN: item_menu_inferior -->
        &nbsp;&nbsp;&nbsp;<a href="{ITEM_MENU_INFERIOR_URL}">{ITEM_MENU_INFERIOR_TITULO}</a>
        <!-- END: item_menu_inferior -->


    </div>
</div>

<script>

    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-39344050-1']);
    _gaq.push(['_trackPageview']);

    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();

</script>


</div>
</body>
</html>
<!-- END: contenido_principal -->